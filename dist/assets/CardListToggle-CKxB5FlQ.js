var e=Math.pow;import{a as t,j as s}from"./index-CKoUBv2-.js";import{r as a}from"./react-BiDznpw8.js";import{L as r,g as l,h as n,G as i,a as o}from"./ui-DfargGwq.js";import{U as c}from"./UnifiedCard-DgFa7GPo.js";const d=({className:e="",message:a,showSpinner:l=!0,size:n="medium"})=>{const{t:i}=t(),o=(()=>{switch(n){case"small":return{spinner:"w-4 h-4",text:"text-sm"};case"large":return{spinner:"w-8 h-8",text:"text-lg"};default:return{spinner:"w-6 h-6",text:"text-base"}}})();return s.jsxs("output",{"aria-live":"polite",className:`flex flex-col items-center justify-center space-y-3 ${e}`,children:[l&&s.jsx("div",{"aria-hidden":"true",className:`${o.spinner} text-blue-600 dark:text-blue-400`,children:s.jsx(r,{className:"h-full w-full animate-spin"})}),s.jsx("span",{className:`${o.text} text-gray-600 dark:text-gray-400`,children:a||i("common.loadingCards")})]})},m=({className:r="",columns:n,emptyMessage:i,filterType:o="all",highlightText:m,isLoading:u=!1,items:x,onCardClick:h,showDescription:g=!1,showTags:f=!1,variant:p="default"})=>{const{t:v}=t(),[j,w]=a.useState(0),[y,b]=a.useState(""),[N,$]=a.useState("variant"),C=a.useMemo(()=>"all"===o?x:x.filter(e=>e.type===o),[x,o]),k=a.useMemo(()=>C.map(e=>e.id).join(","),[C]);a.useEffect(()=>{""!==y&&y!==k?($("content"),w(e=>e+1),b(k)):b(k)},[k,y]),a.useEffect(()=>{$("variant"),w(e=>e+1)},[p,n]);const M=n?{gridTemplateColumns:`repeat(${n}, 1fr)`}:void 0;if(u)return s.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:s.jsx(d,{size:"large"})});if(0===C.length)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"mb-4 text-gray-400 dark:text-gray-500",children:s.jsx(l,{className:"mx-auto h-16 w-16"})}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:i||(()=>{switch(o){case"event":return v("events.noEvents");case"exhibit":return v("exhibits.noExhibits");case"stall":return v("exhibits.noStalls");default:return v("common.noItems")}})()})]});const T=(t,s)=>{const a="list"===p?.08:.05,r="list"===p?.02:.015;return s<=10?t*a:r+(a-r)*e(1-t/(s-1),.8)+t*r*.3};return s.jsx("div",{className:`${(()=>{switch(p){case"compact":return"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3";case"list":return"space-y-4";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}})()} ${r}`,style:M,children:C.map((e,t)=>s.jsx("div",{className:"content"===N?"animate-category-change":"list"===p?"animate-card-enter-list":"animate-card-enter",style:{animationDelay:`${T(t,C.length)}s`,animationFillMode:"both"},children:s.jsx(c,{item:e,variant:p,showTags:f,showDescription:g,highlightText:m,onClick:h?()=>h(e):void 0})},`${j}-${e.id}`))})},u=({activeValue:e,className:t="",onChange:r,options:l})=>{const[n,i]=a.useState({transform:"translateX(0px)",width:0}),o=a.useRef(null),c=a.useRef([]);return a.useEffect(()=>{const t=l.findIndex(t=>t.value===e),s=c.current[t];if(s&&o.current){const e=o.current.getBoundingClientRect(),t=s.getBoundingClientRect(),a=t.left-e.left;i({transform:`translateX(${a}px)`,width:t.width})}},[e,l]),s.jsxs("div",{ref:o,className:`relative flex gap-0 overflow-hidden rounded-lg ${t}`,style:{backgroundColor:"var(--color-bg-secondary)"},children:[s.jsx("div",{className:"absolute bottom-0 h-0.5 transition-all duration-300 ease-out",style:{backgroundColor:"var(--color-accent)",transform:n.transform,width:`${n.width}px`}}),l.map((t,a)=>s.jsx("button",{type:"button",ref:e=>{e&&(c.current[a]=e)},onClick:()=>r(t.value),className:`group relative overflow-hidden px-4 py-3 text-sm font-medium transition-all duration-200 ${0===a?"rounded-l-lg":""} ${a===l.length-1?"rounded-r-lg":""} ${e===t.value?"text-white":"hover:bg-white/5"} `,style:{backgroundColor:e===t.value?"var(--color-accent)":"transparent",color:e===t.value?"white":"var(--color-text-primary)"},children:t.label},t.value))]})},x=({className:e="",setViewMode:a,viewMode:r})=>{const{t:l}=t(),c=[{label:s.jsx(n,{size:16}),value:"default"},{label:s.jsx(i,{size:16}),value:"compact"},{label:s.jsx(o,{size:16}),value:"list"}];return s.jsxs("div",{className:`flex flex-shrink-0 items-center gap-2 ${e}`,children:[s.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--color-text-secondary)"},children:[l("common.view"),":"]}),s.jsx(u,{options:c,activeValue:r,onChange:e=>a(e),className:"text-sm"})]})};export{x as C,u as T,m as a};
