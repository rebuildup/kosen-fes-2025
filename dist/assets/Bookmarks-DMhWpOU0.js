import{g as N,i as b,a as v,r as i,j as e,L as w}from"./index-C4BiSv4v.js";import{T as C,C as M,a as T}from"./CardListToggle-CiRFMm8q.js";import"./UnifiedCard-BGvCktGd.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L=N("trash-2",B),I=()=>{const{bookmarkedItems:t,clearAllBookmarks:l}=b(),{t:r}=v(),[n,f]=i.useState("all"),[c,g]=i.useState("default"),[d,k]=i.useState({}),y=[{label:r("exhibits.filters.all"),value:"all"},{label:r("navigation.events"),value:"event"},{label:r("exhibits.filters.exhibits"),value:"exhibit"},{label:r("exhibits.filters.stalls"),value:"stall"}];i.useEffect(()=>{let s=t;n!=="all"&&(s=t.filter(o=>o.type===n));const a={};for(const o of s)a[o.date]||(a[o.date]=[]),a[o.date].push(o);for(const o of Object.keys(a))a[o].sort((x,u)=>{const h=x.time.split(" - ")[0],p=u.time.split(" - ")[0];return h!==p?h.localeCompare(p):x.title.localeCompare(u.title)});k(a)},[t,n]);const j=s=>{try{return new Date(s).toLocaleDateString(r("language")==="ja"?"ja-JP":"en-US",{day:"numeric",month:"long",weekday:"long",year:"numeric"})}catch(a){return console.error("Failed to format bookmark date",a),s}};if(t.length===0)return e.jsxs("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-12 text-center",children:[e.jsx("div",{className:"mb-4 text-6xl",children:"🔖"}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-[var(--text-primary)]",children:r("bookmarks.empty")}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:r("bookmarks.startBookmarking")})]});const m=Object.keys(d).sort((s,a)=>s.localeCompare(a));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"scrollbar-thin flex w-full items-center gap-2 overflow-x-auto px-1 py-2 sm:overflow-x-auto md:justify-between md:overflow-x-visible md:px-0 md:py-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(C,{options:y,activeValue:n,onChange:f,className:"overflow-hidden rounded-lg shadow-sm"})}),e.jsxs("div",{className:"ml-auto flex flex-shrink-0 items-center gap-2",children:[e.jsx(M,{viewMode:c,setViewMode:g}),e.jsx("button",{onClick:l,className:"glass-button glass-interactive rounded-lg px-3 py-2 font-medium text-red-500 transition-all duration-200 hover:text-red-600 hover:shadow-lg focus:ring-2 focus:ring-red-500/20 focus:outline-none",title:"すべて削除",children:e.jsx(L,{size:20})})]})]}),m.length===0?e.jsx("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-8 text-center",children:e.jsx("p",{className:"text-[var(--text-secondary)]",children:r("bookmarks.noCategoryItems")})}):e.jsx("div",{className:"space-y-8",children:m.map(s=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-[var(--accent-purple)] to-[var(--accent-pink)]"}),e.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)]",children:j(s)}),e.jsx("div",{className:"h-px flex-1 bg-[var(--border-color)]"}),e.jsxs("span",{className:"rounded-full bg-[var(--bg-secondary)] px-3 py-1 text-sm text-[var(--text-secondary)]",children:[d[s].length," 件"]})]}),e.jsx("div",{className:"rounded-xl bg-[var(--bg-primary)] p-6",children:e.jsx(T,{items:d[s],variant:c,showTags:!0,showDescription:c==="list",emptyMessage:r("bookmarks.noItemsFound"),filterType:"all"})})]},s))})]})},V=()=>{const{t}=v(),{getBookmarkCount:l}=b();return i.useEffect(()=>(document.title=`${t("bookmarks.title")} (${l()}) | ${t("siteName")}`,()=>{document.title=t("siteName")}),[t,l]),e.jsx("div",{className:"min-h-screen",children:e.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsx("h1",{className:"section-title",children:t("bookmarks.title")}),e.jsx("p",{className:"section-subtitle",children:t("bookmarks.description")}),l()===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("p",{className:"mb-6 text-lg",style:{color:"var(--color-text-secondary)"},children:t("bookmarks.empty")}),e.jsx(w,{to:"/",className:"btn btn-primary",children:t("navigation.home")})]}):e.jsx(I,{})]})})})};export{V as default};
