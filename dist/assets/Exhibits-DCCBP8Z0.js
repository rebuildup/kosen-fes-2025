import{a as v,u as j,r as l,d as r,j as e,f as y,s as N}from"./index-D9gY33_V.js";import{T as w,C as T,a as E}from"./CardListToggle-CnTfRWIv.js";import{S}from"./SelectedTags-CWKKpgxA.js";import{T as I}from"./TagFilter-DbI4vBzz.js";import{p as M}from"./random-DoZnV0pN.js";import"./UnifiedCard-BPawq0gZ.js";function C(){const s=[...y.map(t=>t.imageUrl),...N.map(t=>t.imageUrl)].filter(Boolean);return M(s)||""}const O=()=>{const{t:s}=v(),{filterItemsByTags:t,selectedTags:x}=j(),[o,m]=l.useState("default"),[d,h]=l.useState([]),[u,c]=l.useState(!0),[a,g]=l.useState("all"),b=l.useMemo(()=>C(),[]);l.useEffect(()=>{c(!0);const n=setTimeout(()=>{let i=[];a==="exhibits"?i=r.getAllExhibits():a==="stalls"?i=r.getAllStalls():i=[...r.getAllExhibits(),...r.getAllStalls()],x.length>0&&(i=t(i)),h(i),c(!1)},500);return()=>clearTimeout(n)},[a,x,t]);const f=[{label:s("exhibits.filters.all"),value:"all"},{label:s("exhibits.filters.exhibits"),value:"exhibits"},{label:s("exhibits.filters.stalls"),value:"stalls"}],p=()=>s(a==="exhibits"?"exhibits.noExhibits":a==="stalls"?"exhibits.noStalls":"exhibits.noExhibits");return e.jsxs("div",{className:"min-h-screen bg-[var(--bg-primary)]",children:[e.jsxs("section",{className:"relative overflow-hidden rounded-lg py-16",children:[e.jsx("img",{src:b,className:"pointer-events-none absolute inset-0 z-0 h-full w-full object-cover opacity-20",alt:"","aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:"var(--instagram-gradient)"}}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold text-[var(--text-primary)] md:text-5xl",children:s("exhibits.title")}),e.jsx("p",{className:"mx-auto max-w-2xl text-xl text-[var(--text-secondary)]",children:s("exhibits.description")})]})})]}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"scrollbar-thin mobile-scroll flex flex-row items-center gap-3 overflow-x-auto pb-2 sm:justify-between",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(w,{options:f,activeValue:a,onChange:n=>g(n),className:"overflow-hidden rounded-lg shadow-sm"})}),e.jsx("div",{className:"flex flex-shrink-0 items-center justify-end",children:e.jsx(T,{viewMode:o,setViewMode:m})})]}),e.jsx(I,{compact:!0}),e.jsx(S,{}),e.jsx("div",{className:"rounded-xl bg-[var(--bg-primary)]",children:e.jsx(E,{items:d,variant:o,showTags:!0,showDescription:o==="list",emptyMessage:p(),filterType:"all",isLoading:u})})]})})})]})};export{O as default};
