import{a as w,j as e,o as A,r as l}from"./index-DiK8qNwB.js";import{U as D}from"./UnifiedCard-CHoqHSgW.js";const z=({size:a="medium",message:t,showSpinner:i=!0,className:d=""})=>{const{t:o}=w(),c=(()=>{switch(a){case"small":return{spinner:"w-4 h-4",text:"text-sm"};case"large":return{spinner:"w-8 h-8",text:"text-lg"};default:return{spinner:"w-6 h-6",text:"text-base"}}})();return e.jsxs("div",{role:"status","aria-live":"polite",className:`flex flex-col items-center justify-center space-y-3 ${d}`,children:[i&&e.jsx("div",{"aria-hidden":"true",className:`${c.spinner} text-blue-600 dark:text-blue-400`,children:e.jsx(A,{className:"w-full h-full animate-spin"})}),e.jsx("span",{className:`${c.text} text-gray-600 dark:text-gray-400`,children:t||o("common.loadingCards")})]})},K=({items:a,variant:t="default",showTags:i=!1,showDescription:d=!1,emptyMessage:o,onCardClick:u,highlightText:c,className:h="",columns:r,filterType:n="all",isLoading:m=!1})=>{const{t:g}=w(),[y,C]=l.useState(0),[j,N]=l.useState(""),[k,$]=l.useState("variant"),f=l.useMemo(()=>n==="all"?a:a.filter(s=>s.type===n),[a,n]),v=l.useMemo(()=>f.map(s=>s.id).join(","),[f]);l.useEffect(()=>{j!==""&&j!==v&&($("content"),C(x=>x+1)),N(v)},[v,j]),l.useEffect(()=>{$("variant"),C(s=>s+1)},[t]);const S=()=>{switch(n){case"event":return g("events.noEvents");case"exhibit":return g("exhibits.noExhibits");case"stall":return g("exhibits.noStalls");default:return g("common.noItems")}},R=r?{gridTemplateColumns:`repeat(${r}, 1fr)`}:void 0,E=()=>{switch(t){case"compact":return"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3";case"list":return"space-y-4";case"grid":return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}};if(m)return e.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:e.jsx(z,{size:"large"})});if(f.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8V4a1 1 0 00-1-1H7a1 1 0 00-1 1v1"})})}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:o||S()})]});const I=(s,x)=>{const p=t==="list"?.08:.05,b=t==="list"?.02:.015;if(x<=10)return s*p;const L=s/(x-1),M=Math.pow(1-L,.8),B=b+(p-b)*M,H=s*b*.3;return B+H};return e.jsx("div",{className:`${E()} ${h}`,style:R,children:f.map((s,x)=>{const p=()=>k==="content"?"animate-category-change":t==="list"?"animate-card-enter-list":"animate-card-enter";return e.jsx("div",{className:p(),style:{animationDelay:`${I(x,f.length)}s`,animationFillMode:"both"},children:e.jsx(D,{item:s,variant:t,showTags:i,showDescription:d,highlightText:c,onClick:u?()=>u(s):void 0})},`${y}-${s.id}`)})})},T=({options:a,activeValue:t,onChange:i,className:d=""})=>{const[o,u]=l.useState({width:0,transform:"translateX(0px)"}),c=l.useRef(null),h=l.useRef([]);return l.useEffect(()=>{const r=a.findIndex(m=>m.value===t),n=h.current[r];if(n&&c.current){const m=c.current.getBoundingClientRect(),g=n.getBoundingClientRect(),y=g.left-m.left;u({width:g.width,transform:`translateX(${y}px)`})}},[t,a]),e.jsxs("div",{ref:c,className:`relative flex gap-0 rounded-lg overflow-hidden ${d}`,style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("div",{className:"absolute bottom-0 h-0.5 transition-all duration-300 ease-out",style:{backgroundColor:"var(--color-accent)",width:`${o.width}px`,transform:o.transform}}),a.map((r,n)=>e.jsx("button",{ref:m=>h.current[n]=m,onClick:()=>i(r.value),className:`
            px-4 py-3 font-medium transition-all duration-200 
            relative overflow-hidden group text-sm
            ${n===0?"rounded-l-lg":""} ${n===a.length-1?"rounded-r-lg":""}
            ${t===r.value?"text-white":"hover:bg-white/5"}
          `,style:{backgroundColor:t===r.value?"var(--color-accent)":"transparent",color:t===r.value?"white":"var(--color-text-primary)"},children:r.label},r.value))]})},U=({viewMode:a,setViewMode:t,className:i=""})=>{const{t:d}=w(),o=[{value:"default",label:"⊞"},{value:"compact",label:"☰"},{value:"list",label:"⋯"}];return e.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 ${i}`,children:[e.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--color-text-secondary)"},children:[d("common.view"),":"]}),e.jsx(T,{options:o,activeValue:a,onChange:u=>t(u),className:"text-sm"})]})};export{U as C,T,K as a};
