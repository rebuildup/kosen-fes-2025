var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,n=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))i.call(a,t)&&l(e,t,a[t]);return e},o=(e,s)=>a(e,t(s));import{u as c,a as m,j as d,b as x,e as h}from"./index-D-ONiGYt.js";import{u as g,r as p}from"./react-BiDznpw8.js";import{P as v}from"./PillButton-CbpqN5X8.js";import{T as u,U as b}from"./UnifiedCard-D7BR9ej9.js";import{p as j}from"./random-CAJgswxN.js";import"./ui-DfargGwq.js";import"./animation-BGH1bKEe.js";const y=({maxTags:e,onTagClick:a,showCount:t=!1,size:s="medium",tags:r,title:i})=>{const{popularTags:l,tagCounts:n}=c(),{t:o}=m(),x=r||l,h=e?x.slice(0,e):x;return 0===h.length?d.jsx("div",{className:"py-8 text-center",children:d.jsx("p",{className:"text-[var(--text-secondary)]",children:"タグがありません"})}):d.jsxs("div",{className:"mb-5",children:[i&&d.jsx("h3",{className:"mb-4 flex items-center gap-2 text-lg font-semibold text-[var(--text-primary)]",children:i}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("div",{className:"flex min-w-max gap-2 pb-2",children:[h.map(e=>d.jsx(u,{tag:e,count:t?n[e]:void 0,size:s,onClick:a},e)),e&&x.length>e&&d.jsxs("button",{type:"button",className:"rounded-full border border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-2 text-xs text-[var(--text-secondary)] transition-all duration-200 hover:border-[var(--primary-color)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--primary-color)]",children:[o("tags.showMore")," (",x.length-e,"+)"]})]})})]})},w=h,f=e=>{const a={date:e.date||"",description:"",id:e.id,imageUrl:e.imageUrl,location:e.location,tags:e.tags,time:e.time||"",title:e.title};switch(e.type){case"event":{const t=e;return o(n({},a),{dayAvailability:t.dayAvailability,duration:t.duration,organizer:t.organizer,showOnMap:t.showOnMap,showOnSchedule:t.showOnSchedule,type:"event"})}case"exhibit":{const t=e;return o(n({},a),{creator:t.creator,type:"exhibit"})}case"stall":return o(n({},a),{organizer:"",products:[],type:"stall"});case"sponsor":return o(n({},a),{type:"sponsor",website:""});default:return o(n({},a),{dayAvailability:"day1",duration:0,organizer:"",showOnMap:!0,showOnSchedule:!0,type:"event"})}},N=e=>e.replace(/^\.?\/?images\//,"./images/");function O(e){return.08*e}const k=()=>{const{t:e}=m(),{events:a,exhibits:t,getPopularTags:s,stalls:r}=x(),i=g(),[l,n]=p.useState([]),[o,c]=p.useState([]),[h,u]=p.useState([]),[k,S]=p.useState({}),[z,D]=p.useState([]),[T,M]=p.useState([]),$=p.useMemo(()=>(()=>{const e=w.map(e=>e.imageUrl).filter(Boolean).map(N);return j(e)||""})(),[]);return p.useEffect(()=>{const e=[...new Set([...a,...t,...r].map(e=>e.date||""))].filter(e=>""!==e).sort((e,a)=>e.localeCompare(a));M(e)},[a,t,r]),p.useEffect(()=>{const e=[...a,...t,...r],s={};for(const a of T)s[a]=e.filter(e=>e.date===a).map(f);S(s)},[a,t,r,T]),p.useEffect(()=>{n(a.slice(0,3).map(f)),c(t.slice(0,3).map(f)),u(r.slice(0,3).map(f)),D(s(8))},[a,t,r,s]),d.jsxs("div",{className:"scrollbar-thin min-h-screen bg-[var(--bg-primary)]",children:[d.jsx("section",{className:"bg-[var(--bg-primary)] py-12",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h1",{className:"mb-4 text-3xl font-bold text-[var(--text-primary)] md:text-4xl lg:text-5xl",children:e("siteName")}),d.jsx("p",{className:"mx-auto mb-6 max-w-3xl text-lg text-[var(--text-secondary)] md:text-xl",children:e("home.subtitle")})]}),d.jsx("div",{className:"ticket-preview mb-8",children:d.jsx("div",{className:"mx-auto max-w-5xl",children:d.jsx("img",{src:"./assets/ticket.webp",alt:"高専祭2025 チケット",className:"h-auto w-full"})})}),d.jsx("div",{className:"flex justify-center",children:d.jsx(v,{to:"/schedule",variant:"secondary",size:"lg",className:"border border-[var(--border-color)] bg-[var(--bg-secondary)] text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]",children:e("home.viewSchedule")})})]})}),d.jsx("section",{className:"section bg-[var(--bg-primary)]",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:e("home.events")}),d.jsx(v,{to:"/events",variant:"secondary",children:e("home.viewAll")})]}),d.jsx("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map((e,a)=>d.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${O(a)}s`,animationFillMode:"both"},children:d.jsx(b,{item:e,variant:"default",showTags:!0,showDescription:!0})},`home-events-${e.id}`))})]})}),d.jsx("section",{className:"section rounded-lg bg-[var(--bg-secondary)]",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:e("home.exhibits")}),d.jsx(v,{to:"/exhibits",variant:"secondary",children:e("home.viewAll")})]}),d.jsx("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map((e,a)=>d.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${O(a)}s`,animationFillMode:"both"},children:d.jsx(b,{item:e,variant:"default",showTags:!0,showDescription:!0})},`home-exhibits-${e.id}`))})]})}),d.jsx("section",{className:"section bg-[var(--bg-primary)]",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:e("home.stalls")}),d.jsx(v,{to:"/stalls",variant:"secondary",children:e("home.viewAll")})]}),d.jsx("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map((e,a)=>d.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${O(a)}s`,animationFillMode:"both"},children:d.jsx(b,{item:e,variant:"default",showDescription:!0,showTags:!0})},`home-stalls-${e.id}`))})]})}),d.jsx("section",{className:"section rounded-lg bg-[var(--bg-secondary)]",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsx("h2",{className:"section-title mb-8 text-center text-[var(--text-primary)]",children:e("home.popularTags")}),d.jsx("div",{className:"w-full overflow-hidden",children:d.jsx(y,{tags:z,showCount:!0,onTagClick:e=>{i(`/search?tag=${encodeURIComponent(e)}`)}})})]})}),d.jsx("section",{className:"section bg-[var(--bg-primary)]",children:d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsx("h2",{className:"section-title mb-12 text-center text-[var(--text-primary)]",children:e("home.timeline")}),d.jsx("div",{className:"space-y-12",children:T.map(a=>{return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"mb-8 flex items-center justify-center",children:d.jsx("div",{className:"rounded-full px-6 py-3 text-base font-semibold text-white shadow-lg",style:{background:"var(--instagram-gradient)"},children:(t=a,new Date(t).toLocaleDateString("ja"===e("language")?"ja-JP":"en-US",{day:"numeric",month:"long",weekday:"long",year:"numeric"}))})}),d.jsx("div",{className:"flex snap-x snap-mandatory gap-6 overflow-x-auto pb-2",children:(k[a]||[]).map((e,t)=>d.jsx("div",{className:"animate-card-enter w-72 flex-shrink-0 snap-start",style:{animationDelay:`${O(t)}s`,animationFillMode:"both"},children:d.jsx(b,{item:e,variant:"default",showTags:!0,showDescription:!0})},`home-timeline-${a}-${e.id}`))}),(k[a]||[]).length>8&&d.jsx("div",{className:"mt-6 text-center",children:d.jsxs(v,{to:"/schedule",variant:"secondary",className:"text-[var(--primary-color)] hover:bg-[var(--bg-tertiary)]",children:[e("home.viewAll")," (+",(k[a]||[]).length-8,")"]})})]},a);var t})})]})}),d.jsxs("section",{className:"relative overflow-hidden rounded-tl-lg rounded-tr-lg",children:[d.jsx("img",{src:$,className:"pointer-events-none absolute inset-0 z-0 h-full w-full object-cover opacity-25",alt:"","aria-hidden":"true"}),d.jsx("div",{className:"absolute inset-0 z-10 opacity-50",style:{background:"var(--instagram-gradient)"}}),d.jsx("div",{className:"absolute inset-0 z-20 bg-black/5"}),d.jsx("div",{className:"relative z-30 mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"space-y-6 text-center text-white",children:[d.jsx("h2",{className:"text-3xl font-bold md:text-4xl",children:e("home.ctaTitle")}),d.jsx("p",{className:"mx-auto max-w-2xl text-xl text-white/90",children:e("home.ctaDescription")}),d.jsxs("div",{className:"flex flex-col justify-center gap-4 px-8 sm:flex-row",children:[d.jsx(v,{to:"/map",variant:"secondary",size:"lg",className:"mx-auto w-60 truncate bg-white font-semibold text-gray-900 shadow-lg hover:bg-gray-50 sm:mx-0",children:e("home.viewMap")}),d.jsx(v,{to:"/bookmarks",variant:"secondary",size:"lg",className:"mx-auto w-60 truncate border border-white/30 bg-white/10 text-white hover:bg-white/20 sm:mx-0",children:e("home.viewBookmarks")})]})]})})]})]})};export{k as default};
