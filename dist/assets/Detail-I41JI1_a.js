import{g as T,h as L,a as $,i as z,c as E,r as t,k as M,s as P,f as U,e as F,j as e}from"./index-DSVU_tI5.js";import{I as H,T as J,U as _}from"./UnifiedCard-D7W1NxcG.js";import{P as R}from"./PillButton-D5u7sDjh.js";import{V}from"./VectorMap-BpoVOlBk.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A=T("arrow-left",Z),v=F,g=U,u=M,b=P,O=()=>{const{id:o,type:c}=L(),{t:r}=$(),{isBookmarked:i,toggleBookmark:j}=z(),f=E(),[s,N]=t.useState(null),[k,n]=t.useState(!0),[w,d]=t.useState(null),[p,C]=t.useState([]);t.useEffect(()=>{if(n(!0),d(null),!c||!o){d("Missing type or ID"),n(!1);return}let a;switch(c){case"event":{a=v.find(l=>l.id===o);break}case"exhibit":{a=g.find(l=>l.id===o);break}case"stall":{a=b.find(l=>l.id===o);break}case"sponsor":{a=u.find(l=>l.id===o);break}default:{d(`Invalid type: ${c}`),n(!1);return}}if(a){if(N(a),a.tags&&a.tags.length>0){const m=[...v,...g,...b,...u].filter(x=>x.id!==a.id&&x.tags&&x.tags.some(S=>{var y;return(y=a.tags)==null?void 0:y.includes(S)})).slice(0,6);C(m)}}else d(`Item not found: ${o}`);n(!1)},[c,o]);const h=()=>{f(-1)},I=()=>{s&&j(s.id)};if(k)return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-lg",style:{color:"var(--color-text-primary)"},children:r("loading")})})})});if(w||!s)return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("p",{className:"mb-6 text-lg",style:{color:"var(--color-text-primary)"},children:r("errors.itemNotFound")}),e.jsx("button",{onClick:h,className:"rounded-lg px-6 py-3 font-medium transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--color-accent)",color:"white"},children:r("detail.back")})]})})});const B=()=>{switch(s.type){case"event":{const a=s;return e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.eventDetails")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.organizer"),":"]}),e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:a.organizer})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.duration"),":"]}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:[Math.floor(a.duration/60)," hr"," ",a.duration%60," min"]})]})]})]})}case"exhibit":{const a=s;return e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.exhibitDetails")}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.creator"),":"]}),e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:a.creator})]})})]})}case"stall":{const a=s;return e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.stallDetails")}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.products"),":"]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.products.map((l,m)=>e.jsx("span",{className:"rounded px-2 py-1 text-sm",style:{backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-text-secondary)"},children:l},m))})]})})]})}case"sponsor":{const a=s;return e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.sponsorDetails")}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.website"),":"]}),e.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--color-accent)"},children:a.website})]})})]})}default:return null}},D=()=>{switch(s.type){case"event":return r("detail.event");case"exhibit":return r("detail.exhibit");case"stall":return r("detail.stall");case"sponsor":return r("detail.sponsor");default:return""}};return e.jsx("div",{className:"min-h-screen",children:e.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsx(R,{onClick:h,variant:"secondary",children:e.jsxs("span",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:r("detail.back")})]})}),e.jsx("button",{onClick:I,className:`flex h-12 w-12 items-center justify-center rounded-full transition-all duration-200 hover:scale-110 focus:ring-2 focus:ring-offset-2 focus:outline-none ${i(s.id)?"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-500":"border border-[var(--border-color)] bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)] focus:ring-[var(--primary-color)]"}`,"aria-label":i(s.id)?r("actions.removeBookmark"):r("actions.bookmark"),title:i(s.id)?r("actions.removeBookmark"):r("actions.bookmark"),children:e.jsx("span",{className:"text-xl",children:i(s.id)?"★":"☆"})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsx(H,{type:s.type,size:"large"}),e.jsx("span",{className:"rounded-full px-3 py-1 text-sm font-medium",style:{backgroundColor:"var(--color-accent)",color:"white"},children:D()})]}),e.jsx("h1",{className:"mb-6 text-3xl font-bold",style:{color:"var(--color-text-primary)"},children:s.title}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg p-6 md:grid-cols-3",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.date"),":"]}),e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:s.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.time"),":"]}),e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:s.time})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[r("detail.location"),":"]}),e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:s.location})]})]}),s.imageUrl&&e.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10 bg-white/5",children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"h-auto w-full object-cover",style:{backgroundColor:"var(--color-bg-secondary)"}})}),e.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 flex items-center gap-2 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.location")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg",style:{color:"var(--color-text-primary)"},children:s.location}),s.coordinates&&e.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["座標: (",s.coordinates.x.toFixed(0),","," ",s.coordinates.y.toFixed(0),")"]})]})]}),e.jsx("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:e.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--color-text-primary)"},children:s.description})}),B(),s.tags&&s.tags.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.tags")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((a,l)=>e.jsx(J,{tag:a},l))})]}),(s.location||s.coordinates)&&s.type!=="sponsor"&&e.jsxs("div",{className:"rounded-lg border border-white/20 bg-white/10 p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 flex items-center gap-2 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("map.title")}),e.jsx("div",{className:"map-container h-64 overflow-hidden rounded-lg",children:e.jsx(V,{mode:"detail",highlightPoint:s.coordinates,points:s.coordinates?[{contentItem:s,coordinates:s.coordinates,id:s.id,isHovered:!1,isSelected:!0,onClick:()=>{},onHover:()=>{},title:s.title,type:s.type}]:[],height:"100%",maxZoom:8,minZoom:.3,showControls:!0},`detail-map-${s.id}`)})]}),p.length>0&&e.jsxs("div",{className:"rounded-lg border border-white/20 bg-white/10 p-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r("detail.related")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"flex gap-4 pb-2",style:{minWidth:"max-content"},children:p.map(a=>e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx(_,{item:a,showTags:!0,variant:"compact"})},a.id))})})]})]})]})})})};export{O as default};
