import{u as E,a as f,j as e,b as A,r as i,e as I}from"./index-7WYLCOyL.js";import{T as $,U as g}from"./UnifiedCard-BIaf6bta.js";import{P as o}from"./PillButton-DxrKPZKU.js";const O=({tags:a,showCount:t=!1,maxTags:l,title:n,size:m="medium",onTagClick:p})=>{const{popularTags:b,tagCounts:j}=E(),{t:y}=f(),d=a||b,x=l?d.slice(0,l):d;return x.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-[var(--text-secondary)]",children:"タグがありません"})}):e.jsxs("div",{className:"mb-5",children:[n&&e.jsx("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-primary)] flex items-center gap-2",children:n}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex gap-2 pb-2 min-w-max",children:[x.map(c=>e.jsx($,{tag:c,count:t?j[c]:void 0,size:m,onClick:p},c)),l&&d.length>l&&e.jsxs("button",{className:"text-xs px-3 py-2 rounded-full border border-[var(--border-color)] text-[var(--text-secondary)] hover:text-[var(--primary-color)] hover:border-[var(--primary-color)] bg-[var(--bg-secondary)] hover:bg-[var(--bg-tertiary)] transition-all duration-200",children:[y("tags.showMore")," (",d.length-l,"+)"]})]})})]})},v=a=>{const t={id:a.id,title:a.title,description:"",imageUrl:a.imageUrl,date:a.date||"",time:a.time||"",location:a.location,tags:a.tags};switch(a.type){case"event":return{...t,type:"event",organizer:a.organizer||"",duration:a.duration||0,showOnMap:a.showOnMap!==void 0?a.showOnMap:!0,showOnSchedule:a.showOnSchedule!==void 0?a.showOnSchedule:!0,dayAvailability:a.dayAvailability||"day1"};case"exhibit":return{...t,type:"exhibit",creator:a.creator||""};case"stall":return{...t,type:"stall",organizer:a.organizer||"",products:[]};case"sponsor":return{...t,type:"sponsor",website:""};default:return{...t,type:"event",organizer:"",duration:0,showOnMap:!0,showOnSchedule:!0,dayAvailability:"day1"}}},F=a=>a.replace(/^\.?\/?images\//,"./images/"),P=()=>{const a=I.map(t=>t.imageUrl).filter(Boolean).map(F);return a[Math.floor(Math.random()*a.length)]||""},L=()=>{const{t:a}=f(),{events:t,exhibits:l,stalls:n,getPopularTags:m}=A(),[p,b]=i.useState([]),[j,y]=i.useState([]),[d,x]=i.useState([]),[c,N]=i.useState({}),[D,S]=i.useState([]),[w,T]=i.useState([]),M=i.useMemo(()=>P(),[]),h=s=>s*.08;i.useEffect(()=>{const s=[...new Set([...t,...l,...n].map(r=>r.date||""))].filter(r=>r!=="").sort();T(s)},[t,l,n]),i.useEffect(()=>{const s=[...t,...l,...n],r={};w.forEach(u=>{r[u]=s.filter(z=>z.date===u).map(v)}),N(r)},[t,l,n,w]),i.useEffect(()=>{b(t.slice(0,3).map(v)),y(l.slice(0,3).map(v)),x(n.slice(0,3).map(v)),S(m(8))},[t,l,n,m]);const k=s=>new Date(s).toLocaleDateString(a("language")==="ja"?"ja-JP":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-[var(--bg-primary)] scrollbar-thin",children:[e.jsx("section",{className:"bg-[var(--bg-primary)] py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-[var(--text-primary)] mb-4",children:a("siteName")}),e.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] mb-6 max-w-3xl mx-auto",children:a("home.subtitle")})]}),e.jsx("div",{className:"ticket-preview mb-8",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx("img",{src:"./assets/ticket.png",alt:"高専祭2025 チケット",className:"w-full h-auto"})})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(o,{to:"/schedule",variant:"secondary",size:"lg",className:"bg-[var(--bg-secondary)] hover:bg-[var(--bg-tertiary)] text-[var(--text-primary)] border border-[var(--border-color)] ",children:a("home.viewSchedule")})})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:a("home.events")}),e.jsx(o,{to:"/events",variant:"secondary",children:a("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:p.map((s,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(g,{item:s,variant:"default",showTags:!0,showDescription:!0})},`home-events-${s.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-secondary)] rounded-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:a("home.exhibits")}),e.jsx(o,{to:"/exhibits",variant:"secondary",children:a("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:j.map((s,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(g,{item:s,variant:"default",showTags:!0,showDescription:!0})},`home-exhibits-${s.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:a("home.stalls")}),e.jsx(o,{to:"/stalls",variant:"secondary",children:a("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:d.map((s,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(g,{item:s,variant:"default",showDescription:!0,showTags:!0})},`home-stalls-${s.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-secondary)] rounded-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"section-title text-center mb-8 text-[var(--text-primary)]",children:a("home.popularTags")}),e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx(O,{tags:D,showCount:!0})})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"section-title text-center mb-12 text-[var(--text-primary)]",children:a("home.timeline")}),e.jsx("div",{className:"space-y-12",children:w.map(s=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"px-6 py-3 rounded-full text-white font-semibold text-base shadow-lg",style:{background:"var(--instagram-gradient)"},children:k(s)})}),e.jsx("div",{className:"flex gap-6 overflow-x-auto pb-2 snap-x snap-mandatory",children:(c[s]||[]).map((r,u)=>e.jsx("div",{className:"animate-card-enter snap-start flex-shrink-0 w-72",style:{animationDelay:`${h(u)}s`,animationFillMode:"both"},children:e.jsx(g,{item:r,variant:"default",showTags:!0,showDescription:!0})},`home-timeline-${s}-${r.id}`))}),(c[s]||[]).length>8&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(o,{to:"/schedule",variant:"secondary",className:"text-[var(--primary-color)] hover:bg-[var(--bg-tertiary)]",children:[a("home.viewAll")," (+",(c[s]||[]).length-8,")"]})})]},s))})]})}),e.jsxs("section",{className:"relative overflow-hidden rounded-tr-lg rounded-tl-lg",children:[e.jsx("img",{src:M,className:"absolute inset-0 w-full h-full object-cover opacity-25 z-0 pointer-events-none",alt:"","aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 z-10 opacity-50",style:{background:"var(--instagram-gradient)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/5 z-20"}),e.jsx("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center text-white space-y-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:a("home.ctaTitle")}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:a("home.ctaDescription")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center px-8",children:[e.jsx(o,{to:"/map",variant:"secondary",size:"lg",className:"bg-white hover:bg-gray-50 text-gray-900 shadow-lg  font-semibold w-60 mx-auto sm:mx-0 truncate",children:a("home.viewMap")}),e.jsx(o,{to:"/bookmarks",variant:"secondary",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 w-60 mx-auto sm:mx-0 truncate",children:a("home.viewBookmarks")})]})]})})]})]})};export{L as default};
