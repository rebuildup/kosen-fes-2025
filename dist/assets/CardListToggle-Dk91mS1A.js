import{a as e,j as t}from"./index-FkctszEa.js";import{r as s}from"./react-BiDznpw8.js";import{L as a,g as r,h as l,G as i,a as n}from"./ui-BNU3Anyi.js";import{U as o}from"./UnifiedCard-ObtruBOW.js";const c=({className:s="",message:r,showSpinner:l=!0,size:i="medium"})=>{const{t:n}=e(),o=(()=>{switch(i){case"small":return{spinner:"w-4 h-4",text:"text-sm"};case"large":return{spinner:"w-8 h-8",text:"text-lg"};default:return{spinner:"w-6 h-6",text:"text-base"}}})();return t.jsxs("div",{role:"status","aria-live":"polite",className:`flex flex-col items-center justify-center space-y-3 ${s}`,children:[l&&t.jsx("div",{"aria-hidden":"true",className:`${o.spinner} text-blue-600 dark:text-blue-400`,children:t.jsx(a,{className:"h-full w-full animate-spin"})}),t.jsx("span",{className:`${o.text} text-gray-600 dark:text-gray-400`,children:r||n("common.loadingCards")})]})},d=({className:a="",columns:l,emptyMessage:i,filterType:n="all",highlightText:d,isLoading:m=!1,items:u,onCardClick:x,showDescription:h=!1,showTags:g=!1,variant:f="default"})=>{const{t:p}=e(),[v,j]=s.useState(0),[w,y]=s.useState(""),[b,N]=s.useState("variant"),$=s.useMemo(()=>"all"===n?u:u.filter(e=>e.type===n),[u,n]),C=s.useMemo(()=>$.map(e=>e.id).join(","),[$]);s.useEffect(()=>{""!==w&&w!==C?(N("content"),j(e=>e+1),y(C)):y(C)},[C,w]),s.useEffect(()=>{N("variant"),j(e=>e+1)},[f]);const k=l?{gridTemplateColumns:`repeat(${l}, 1fr)`}:void 0;if(m)return t.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:t.jsx(c,{size:"large"})});if(0===$.length)return t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsx("div",{className:"mb-4 text-gray-400 dark:text-gray-500",children:t.jsx(r,{className:"mx-auto h-16 w-16"})}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:i||(()=>{switch(n){case"event":return p("events.noEvents");case"exhibit":return p("exhibits.noExhibits");case"stall":return p("exhibits.noStalls");default:return p("common.noItems")}})()})]});const M=(e,t)=>{const s="list"===f?.08:.05,a="list"===f?.02:.015;if(t<=10)return e*s;const r=e/(t-1);return a+(s-a)*Math.pow(1-r,.8)+e*a*.3};return t.jsx("div",{className:`${(()=>{switch(f){case"compact":return"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3";case"list":return"space-y-4";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}})()} ${a}`,style:k,children:$.map((e,s)=>t.jsx("div",{className:"content"===b?"animate-category-change":"list"===f?"animate-card-enter-list":"animate-card-enter",style:{animationDelay:`${M(s,$.length)}s`,animationFillMode:"both"},children:t.jsx(o,{item:e,variant:f,showTags:g,showDescription:h,highlightText:d,onClick:x?()=>x(e):void 0})},`${v}-${e.id}`))})},m=({activeValue:e,className:a="",onChange:r,options:l})=>{const[i,n]=s.useState({transform:"translateX(0px)",width:0}),o=s.useRef(null),c=s.useRef([]);return s.useEffect(()=>{const t=l.findIndex(t=>t.value===e),s=c.current[t];if(s&&o.current){const e=o.current.getBoundingClientRect(),t=s.getBoundingClientRect(),a=t.left-e.left;n({transform:`translateX(${a}px)`,width:t.width})}},[e,l]),t.jsxs("div",{ref:o,className:`relative flex gap-0 overflow-hidden rounded-lg ${a}`,style:{backgroundColor:"var(--color-bg-secondary)"},children:[t.jsx("div",{className:"absolute bottom-0 h-0.5 transition-all duration-300 ease-out",style:{backgroundColor:"var(--color-accent)",transform:i.transform,width:`${i.width}px`}}),l.map((s,a)=>t.jsx("button",{ref:e=>c.current[a]=e,onClick:()=>r(s.value),className:`group relative overflow-hidden px-4 py-3 text-sm font-medium transition-all duration-200 ${0===a?"rounded-l-lg":""} ${a===l.length-1?"rounded-r-lg":""} ${e===s.value?"text-white":"hover:bg-white/5"} `,style:{backgroundColor:e===s.value?"var(--color-accent)":"transparent",color:e===s.value?"white":"var(--color-text-primary)"},children:s.label},s.value))]})},u=({className:s="",setViewMode:a,viewMode:r})=>{const{t:o}=e(),c=[{label:t.jsx(l,{size:16}),value:"default"},{label:t.jsx(i,{size:16}),value:"compact"},{label:t.jsx(n,{size:16}),value:"list"}];return t.jsxs("div",{className:`flex flex-shrink-0 items-center gap-2 ${s}`,children:[t.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--color-text-secondary)"},children:[o("common.view"),":"]}),t.jsx(m,{options:c,activeValue:r,onChange:e=>a(e),className:"text-sm"})]})};export{u as C,m as T,d as a};
