import{a as M,u as I,r as s,e as A,j as a}from"./index-DSVU_tI5.js";import{S as $}from"./SelectedTags-CtymPSsT.js";import{T as B}from"./TagFilter-BAnKBFlV.js";import{T as E}from"./TimelineDay-CAhhQNO1.js";import"./UnifiedCard-D7W1NxcG.js";const F=A,L=r=>r.type==="event";function h(r){const[u]=r.split(" - "),[y,e]=u.split(":").map(m=>Number.parseInt(m,10));return y*60+e}const z=()=>{const{t:r}=M(),{filterItemsByTags:u,selectedTags:y}=I(),[e,m]=s.useState("day1"),[o,N]=s.useState({day1:[],day2:[]}),[g,b]=s.useState(0),[v,C]=s.useState(""),[p,D]=s.useState(""),x=e,f=s.useMemo(()=>y.join(","),[y]);s.useEffect(()=>{v!==""&&v!==x&&b(t=>t+1),C(x)},[x,v]),s.useEffect(()=>{p!==""&&p!==f&&b(t=>t+1),D(f)},[f,p]),s.useEffect(()=>{const t=F.filter(i=>i.showOnSchedule),l="2025-11-08",c="2025-11-09",d=i=>y.length===0?i:u(i).filter(L),T=i=>{const w=i==="day1"?l:c,k=t.filter(n=>n.dayAvailability==="both"?!0:n.dayAvailability===i).map(n=>n.dayAvailability==="both"?{...n,date:w}:n);return[...d(k)].sort((n,H)=>h(n.time)-h(H.time))};N({day1:T("day1"),day2:T("day2")})},[y,u]);const j=t=>{const l={};for(const c of t){const d=c.time.split(" - ")[0];l[d]||(l[d]=[]),l[d].push(c)}return l},S=t=>[...[...new Set(t.map(c=>c.time.split(" - ")[0]))]].sort((c,d)=>h(c)-h(d));return a.jsx("div",{className:"min-h-screen",children:a.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:a.jsxs("div",{className:"mx-auto max-w-7xl",children:[a.jsx("h1",{className:"section-title",children:r("schedule.title")}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"scrollbar-thin flex space-x-2 overflow-x-auto",children:[a.jsx("button",{onClick:()=>m("day1"),className:`rounded-lg px-16 py-3 text-sm font-medium text-nowrap transition-all duration-200 ${e==="day1"?"text-white":""}`,style:{backgroundColor:e==="day1"?"var(--color-accent)":"var(--color-bg-secondary)",borderColor:e==="day1"?"var(--color-accent)":"var(--color-border-primary)",color:e==="day1"?"white":"var(--color-text-primary)"},onMouseEnter:t=>{e!=="day1"&&(t.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:t=>{e!=="day1"&&(t.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:r("schedule.day1")}),a.jsx("button",{onClick:()=>m("day2"),className:`rounded-lg px-16 py-3 font-medium text-nowrap transition-all duration-200 ${e==="day2"?"text-white":""}`,style:{backgroundColor:e==="day2"?"var(--color-accent)":"var(--color-bg-secondary)",borderColor:e==="day2"?"var(--color-accent)":"var(--color-border-primary)",color:e==="day2"?"white":"var(--color-text-primary)"},onMouseEnter:t=>{e!=="day2"&&(t.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:t=>{e!=="day2"&&(t.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:r("schedule.day2")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(B,{compact:!0}),a.jsx($,{})]}),a.jsxs("div",{children:[e==="day1"&&a.jsx(E,{date:"2025-11-08",items:o.day1,timeSlots:S(o.day1),groupedItems:j(o.day1),dayName:r("schedule.day1"),animationKey:g},`day1-${g}`),e==="day2"&&a.jsx(E,{date:"2025-11-09",items:o.day2,timeSlots:S(o.day2),groupedItems:j(o.day2),dayName:r("schedule.day2"),animationKey:g},`day2-${g}`),e==="day1"&&o.day1.length===0&&a.jsx("div",{className:"py-12 text-center text-lg",style:{color:"var(--color-text-secondary)"},children:r("schedule.noEvents")}),e==="day2"&&o.day2.length===0&&a.jsx("div",{className:"py-12 text-center text-lg",style:{color:"var(--color-text-secondary)"},children:r("schedule.noEvents")})]})]})]})})})};export{z as default};
