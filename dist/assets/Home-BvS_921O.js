import{u as I,a as f,j as e,b as M,r as i,e as $}from"./index-BJL_EZoJ.js";import{T as F,U as u}from"./UnifiedCard-DXTFbBXX.js";import{P as o}from"./PillButton-DJ4Dr446.js";const P=({tags:s,showCount:t=!1,maxTags:l,title:n,size:d="medium",onTagClick:p})=>{const{popularTags:b,tagCounts:j}=I(),{t:y}=f(),m=s||b,x=l?m.slice(0,l):m;return x.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-[var(--text-secondary)]",children:"タグがありません"})}):e.jsxs("div",{className:"mb-5",children:[n&&e.jsx("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-primary)] flex items-center gap-2",children:n}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex gap-2 pb-2 min-w-max",children:[x.map(c=>e.jsx(F,{tag:c,count:t?j[c]:void 0,size:d,onClick:p},c)),l&&m.length>l&&e.jsxs("button",{className:"text-xs px-3 py-2 rounded-full border border-[var(--border-color)] text-[var(--text-secondary)] hover:text-[var(--primary-color)] hover:border-[var(--primary-color)] bg-[var(--bg-secondary)] hover:bg-[var(--bg-tertiary)] transition-all duration-200",children:[y("tags.showMore")," (",m.length-l,"+)"]})]})})]})},v=s=>{const t={id:s.id,title:s.title,description:"",imageUrl:s.imageUrl,date:s.date||"",time:s.time||"",location:s.location,tags:s.tags};switch(s.type){case"event":return{...t,type:"event",organizer:s.organizer||"",duration:s.duration||0};case"exhibit":return{...t,type:"exhibit",creator:s.creator||""};case"stall":return{...t,type:"stall",organizer:s.organizer||"",products:[]};case"sponsor":return{...t,type:"sponsor",website:""};default:return{...t,type:"event",organizer:"",duration:0}}},A=s=>s.replace(/^\.?\/?images\//,"./images/"),U=()=>{const s=$.map(t=>t.imageUrl).filter(Boolean).map(A);return s[Math.floor(Math.random()*s.length)]||""},R=()=>{const{t:s}=f(),{events:t,exhibits:l,stalls:n,getPopularTags:d}=M(),[p,b]=i.useState([]),[j,y]=i.useState([]),[m,x]=i.useState([]),[c,N]=i.useState({}),[D,T]=i.useState([]),[w,k]=i.useState([]),z=i.useMemo(()=>U(),[]),h=a=>a*.08;i.useEffect(()=>{const a=[...new Set([...t,...l,...n].map(r=>r.date||""))].filter(r=>r!=="").sort();k(a)},[t,l,n]),i.useEffect(()=>{const a=[...t,...l,...n],r={};w.forEach(g=>{r[g]=a.filter(E=>E.date===g).map(v)}),N(r)},[t,l,n,w]),i.useEffect(()=>{b(t.slice(0,3).map(v)),y(l.slice(0,3).map(v)),x(n.slice(0,3).map(v)),T(d(8))},[t,l,n,d]);const S=a=>new Date(a).toLocaleDateString(s("language")==="ja"?"ja-JP":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-[var(--bg-primary)]",children:[e.jsx("section",{className:"bg-[var(--bg-primary)] py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-[var(--text-primary)] mb-4",children:s("siteName")}),e.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] mb-6 max-w-3xl mx-auto",children:s("home.subtitle")})]}),e.jsx("div",{className:"ticket-preview mb-8",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx("img",{src:"./assets/ticket.png",alt:"高専祭2025 チケット",className:"w-full h-auto"})})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(o,{to:"/schedule",variant:"secondary",size:"lg",className:"bg-[var(--bg-secondary)] hover:bg-[var(--bg-tertiary)] text-[var(--text-primary)] border border-[var(--border-color)] shadow-lg hover:shadow-xl transition-all duration-300",children:s("home.viewSchedule")})})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:s("home.events")}),e.jsx(o,{to:"/events",variant:"secondary",children:s("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:p.map((a,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(u,{item:a,variant:"default",showTags:!0,showDescription:!0})},`home-events-${a.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-secondary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:s("home.exhibits")}),e.jsx(o,{to:"/exhibits",variant:"secondary",children:s("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:j.map((a,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(u,{item:a,variant:"default",showTags:!0,showDescription:!0})},`home-exhibits-${a.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"section-title flex items-center gap-3 text-[var(--text-primary)]",children:s("home.stalls")}),e.jsx(o,{to:"/stalls",variant:"secondary",children:s("home.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:m.map((a,r)=>e.jsx("div",{className:"animate-card-enter",style:{animationDelay:`${h(r)}s`,animationFillMode:"both"},children:e.jsx(u,{item:a,variant:"default",showDescription:!0,showTags:!0})},`home-stalls-${a.id}`))})]})}),e.jsx("section",{className:"section bg-[var(--bg-secondary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"section-title text-center mb-8 text-[var(--text-primary)]",children:s("home.popularTags")}),e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx(P,{tags:D,showCount:!0})})]})}),e.jsx("section",{className:"section bg-[var(--bg-primary)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"section-title text-center mb-12 text-[var(--text-primary)]",children:s("home.timeline")}),e.jsx("div",{className:"space-y-12",children:w.map(a=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"px-6 py-3 rounded-full text-white font-semibold text-lg shadow-lg",style:{background:"var(--instagram-gradient)"},children:S(a)})}),e.jsx("div",{className:"flex gap-6 overflow-x-auto pb-2 snap-x snap-mandatory scrollbar-thin",children:(c[a]||[]).map((r,g)=>e.jsx("div",{className:"animate-card-enter snap-start flex-shrink-0 w-72",style:{animationDelay:`${h(g)}s`,animationFillMode:"both"},children:e.jsx(u,{item:r,variant:"default",showTags:!0,showDescription:!0})},`home-timeline-${a}-${r.id}`))}),(c[a]||[]).length>8&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(o,{to:"/schedule",variant:"secondary",className:"text-[var(--primary-color)] hover:bg-[var(--bg-tertiary)]",children:[s("home.viewAll")," (+",(c[a]||[]).length-8,")"]})})]},a))})]})}),e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("img",{src:z,className:"absolute inset-0 w-full h-full object-cover opacity-25 z-0 pointer-events-none",alt:"","aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 z-10 opacity-50",style:{background:"var(--instagram-gradient)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/5 z-20"}),e.jsx("div",{className:"relative z-30 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center text-white space-y-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:s("home.ctaTitle")}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:s("home.ctaDescription")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center px-8",children:[e.jsx(o,{to:"/map",variant:"secondary",size:"lg",className:"bg-white hover:bg-gray-50 text-gray-900 shadow-lg hover:shadow-xl font-semibold w-60 mx-auto sm:mx-0 truncate",children:s("home.viewMap")}),e.jsx(o,{to:"/bookmarks",variant:"secondary",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 backdrop-blur-sm w-60 mx-auto sm:mx-0 truncate",children:s("home.viewBookmarks")})]})]})})]})]})};export{R as default};
