import{a as M,u as A,r as n,e as I,j as a}from"./index-BiXXeQ0D.js";import{S as $}from"./SelectedTags-D5kIVGup.js";import{T as B}from"./TagFilter-BVafVQ93.js";import{T as E}from"./TimelineDay-yQkRUHN7.js";import"./UnifiedCard-DLtq07NS.js";const F=s=>s.type==="event",z=()=>{const{t:s}=M(),{filterItemsByTags:f,selectedTags:y}=A(),[t,b]=n.useState("day1"),[l,N]=n.useState({day1:[],day2:[]}),[u,j]=n.useState(0),[h,C]=n.useState(""),[v,D]=n.useState(""),p=t,x=n.useMemo(()=>y.join(","),[y]);n.useEffect(()=>{h!==""&&h!==p&&j(e=>e+1),C(p)},[p,h]),n.useEffect(()=>{v!==""&&v!==x&&j(e=>e+1),D(x)},[x,v]);const m=e=>{const[o]=e.split(" - "),[r,c]=o.split(":").map(g=>Number.parseInt(g,10));return r*60+c};n.useEffect(()=>{const e=I.filter(i=>i.showOnSchedule),o="2025-11-08",r="2025-11-09",c=i=>y.length===0?i:f(i).filter(F),g=i=>{const k=i==="day1"?o:r,w=e.filter(d=>d.dayAvailability==="both"?!0:d.dayAvailability===i).map(d=>d.dayAvailability==="both"?{...d,date:k}:d);return c(w).sort((d,H)=>m(d.time)-m(H.time))};N({day1:g("day1"),day2:g("day2")})},[y,f]);const S=e=>{const o={};return e.forEach(r=>{const c=r.time.split(" - ")[0];o[c]||(o[c]=[]),o[c].push(r)}),o},T=e=>Array.from(new Set(e.map(r=>r.time.split(" - ")[0]))).sort((r,c)=>m(r)-m(c));return a.jsx("div",{className:"min-h-screen",children:a.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"section-title",children:s("schedule.title")}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>b("day1"),className:`px-16 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${t==="day1"?"text-white":""}`,style:{backgroundColor:t==="day1"?"var(--color-accent)":"var(--color-bg-secondary)",color:t==="day1"?"white":"var(--color-text-primary)",borderColor:t==="day1"?"var(--color-accent)":"var(--color-border-primary)"},onMouseEnter:e=>{t!=="day1"&&(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:e=>{t!=="day1"&&(e.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:s("schedule.day1")}),a.jsx("button",{onClick:()=>b("day2"),className:`px-16 py-3 rounded-lg font-medium transition-all duration-200 ${t==="day2"?"text-white":""}`,style:{backgroundColor:t==="day2"?"var(--color-accent)":"var(--color-bg-secondary)",color:t==="day2"?"white":"var(--color-text-primary)",borderColor:t==="day2"?"var(--color-accent)":"var(--color-border-primary)"},onMouseEnter:e=>{t!=="day2"&&(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:e=>{t!=="day2"&&(e.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:s("schedule.day2")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(B,{compact:!0}),a.jsx($,{})]}),a.jsxs("div",{children:[t==="day1"&&a.jsx(E,{date:"2025-11-08",items:l.day1,timeSlots:T(l.day1),groupedItems:S(l.day1),dayName:s("schedule.day1"),animationKey:u},`day1-${u}`),t==="day2"&&a.jsx(E,{date:"2025-11-09",items:l.day2,timeSlots:T(l.day2),groupedItems:S(l.day2),dayName:s("schedule.day2"),animationKey:u},`day2-${u}`),t==="day1"&&l.day1.length===0&&a.jsx("div",{className:"text-center py-12 text-lg",style:{color:"var(--color-text-secondary)"},children:s("schedule.noEvents")}),t==="day2"&&l.day2.length===0&&a.jsx("div",{className:"text-center py-12 text-lg",style:{color:"var(--color-text-secondary)"},children:s("schedule.noEvents")})]})]})]})})})};export{z as default};
