var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{a as c,u as n,e as d,j as i}from"./index-Gvxr3h80.js";import{r as y}from"./react-BiDznpw8.js";import{S as m}from"./SelectedTags-6h_tNxGe.js";import{T as u}from"./TagFilter-Cw3wT2wO.js";import{T as p}from"./TimelineDay-BDOcGmns.js";import"./ui-DfargGwq.js";import"./animation-BGH1bKEe.js";import"./UnifiedCard-DE_LAMky.js";const b=d,v=e=>"event"===e.type;function x(e){const[t]=e.split(" - "),[r,a]=t.split(":").map(e=>Number.parseInt(e,10));return 60*r+a}const h=()=>{const{t:e}=c(),{filterItemsByTags:d,selectedTags:h}=n(),[g,j]=y.useState("day1"),[f,w]=y.useState({day1:[],day2:[]}),[N,C]=y.useState(0),[S,T]=y.useState(""),[O,k]=y.useState(""),E=g,I=y.useMemo(()=>h.join(","),[h]);y.useEffect(()=>{""!==S&&S!==E&&C(e=>e+1),T(E)},[E,S]),y.useEffect(()=>{""!==O&&O!==I&&C(e=>e+1),k(I)},[I,O]),y.useEffect(()=>{const e=b.filter(e=>e.showOnSchedule),c=c=>{const n="day1"===c?"2025-11-08":"2025-11-09";var i;return[...(i=e.filter(e=>"both"===e.dayAvailability||e.dayAvailability===c).map(e=>{return"both"===e.dayAvailability?(c=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))s.call(t,r)&&l(e,r,t[r]);return e})({},e),t(c,r({date:n}))):e;var c}),0===h.length?i:d(i).filter(v))].sort((e,t)=>x(e.time)-x(t.time))};w({day1:c("day1"),day2:c("day2")})},[h,d]);const M=e=>{const t={};for(const r of e){const e=r.time.split(" - ")[0];t[e]||(t[e]=[]),t[e].push(r)}return t},P=e=>[...new Set(e.map(e=>e.time.split(" - ")[0]))].sort((e,t)=>x(e)-x(t));return i.jsx("div",{className:"min-h-screen",children:i.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:i.jsxs("div",{className:"mx-auto max-w-7xl",children:[i.jsx("h1",{className:"section-title",children:e("schedule.title")}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"scrollbar-thin flex space-x-2 overflow-x-auto",children:[i.jsx("button",{type:"button",onClick:()=>j("day1"),className:"rounded-lg px-16 py-3 text-sm font-medium text-nowrap transition-all duration-200 "+("day1"===g?"text-white":""),style:{backgroundColor:"day1"===g?"var(--color-accent)":"var(--color-bg-secondary)",borderColor:"day1"===g?"var(--color-accent)":"var(--color-border-primary)",color:"day1"===g?"white":"var(--color-text-primary)"},onMouseEnter:e=>{"day1"!==g&&(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:e=>{"day1"!==g&&(e.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:e("schedule.day1")}),i.jsx("button",{type:"button",onClick:()=>j("day2"),className:"rounded-lg px-16 py-3 font-medium text-nowrap transition-all duration-200 "+("day2"===g?"text-white":""),style:{backgroundColor:"day2"===g?"var(--color-accent)":"var(--color-bg-secondary)",borderColor:"day2"===g?"var(--color-accent)":"var(--color-border-primary)",color:"day2"===g?"white":"var(--color-text-primary)"},onMouseEnter:e=>{"day2"!==g&&(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary)")},onMouseLeave:e=>{"day2"!==g&&(e.currentTarget.style.backgroundColor="var(--color-bg-secondary)")},children:e("schedule.day2")})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(u,{compact:!0}),i.jsx(m,{})]}),i.jsxs("div",{children:["day1"===g&&i.jsx(p,{date:"2025-11-08",items:f.day1,timeSlots:P(f.day1),groupedItems:M(f.day1),dayName:e("schedule.day1"),animationKey:N},`day1-${N}`),"day2"===g&&i.jsx(p,{date:"2025-11-09",items:f.day2,timeSlots:P(f.day2),groupedItems:M(f.day2),dayName:e("schedule.day2"),animationKey:N},`day2-${N}`),"day1"===g&&0===f.day1.length&&i.jsx("div",{className:"py-12 text-center text-lg",style:{color:"var(--color-text-secondary)"},children:e("schedule.noEvents")}),"day2"===g&&0===f.day2.length&&i.jsx("div",{className:"py-12 text-center text-lg",style:{color:"var(--color-text-secondary)"},children:e("schedule.noEvents")})]})]})]})})})};export{h as default};
