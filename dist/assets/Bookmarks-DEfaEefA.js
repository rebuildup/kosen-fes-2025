import{f as e,a as s,j as t}from"./index-B9h-xLGa.js";import{r as a,L as r}from"./react-BiDznpw8.js";import{T as l,C as o,a as i}from"./CardListToggle-CBpcj_70.js";import{T as n}from"./ui-BNU3Anyi.js";import"./animation-BGH1bKEe.js";import"./UnifiedCard-DjOdlaT7.js";const c=()=>{const{bookmarkedItems:r,clearAllBookmarks:c}=e(),{t:d}=s(),[m,x]=a.useState("all"),[p,b]=a.useState("default"),[h,u]=a.useState({}),v=[{label:d("exhibits.filters.all"),value:"all"},{label:d("navigation.events"),value:"event"},{label:d("exhibits.filters.exhibits"),value:"exhibit"},{label:d("exhibits.filters.stalls"),value:"stall"}];a.useEffect(()=>{let e=r;"all"!==m&&(e=r.filter(e=>e.type===m));const s={};for(const t of e)s[t.date]||(s[t.date]=[]),s[t.date].push(t);for(const t of Object.keys(s))s[t].sort((e,s)=>{const t=e.time.split(" - ")[0],a=s.time.split(" - ")[0];return t!==a?t.localeCompare(a):e.title.localeCompare(s.title)});u(s)},[r,m]);const j=e=>{try{return new Date(e).toLocaleDateString("ja"===d("language")?"ja-JP":"en-US",{day:"numeric",month:"long",weekday:"long",year:"numeric"})}catch(s){return e}};if(0===r.length)return t.jsxs("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-12 text-center",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"🔖"}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-[var(--text-primary)]",children:d("bookmarks.empty")}),t.jsx("p",{className:"text-[var(--text-secondary)]",children:d("bookmarks.startBookmarking")})]});const f=Object.keys(h).sort((e,s)=>e.localeCompare(s));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"scrollbar-thin flex w-full items-center gap-2 overflow-x-auto px-1 py-2 sm:overflow-x-auto md:justify-between md:overflow-x-visible md:px-0 md:py-0",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(l,{options:v,activeValue:m,onChange:x,className:"overflow-hidden rounded-lg shadow-sm"})}),t.jsxs("div",{className:"ml-auto flex flex-shrink-0 items-center gap-2",children:[t.jsx(o,{viewMode:p,setViewMode:b}),t.jsx("button",{type:"button",onClick:c,className:"glass-button glass-interactive rounded-lg px-3 py-2 font-medium text-red-500 transition-all duration-200 hover:text-red-600 hover:shadow-lg focus:ring-2 focus:ring-red-500/20 focus:outline-none",title:"すべて削除",children:t.jsx(n,{size:20})})]})]}),0===f.length?t.jsx("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-8 text-center",children:t.jsx("p",{className:"text-[var(--text-secondary)]",children:d("bookmarks.noCategoryItems")})}):t.jsx("div",{className:"space-y-8",children:f.map(e=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-[var(--accent-purple)] to-[var(--accent-pink)]"}),t.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)]",children:j(e)}),t.jsx("div",{className:"h-px flex-1 bg-[var(--border-color)]"}),t.jsxs("span",{className:"rounded-full bg-[var(--bg-secondary)] px-3 py-1 text-sm text-[var(--text-secondary)]",children:[h[e].length," 件"]})]}),t.jsx("div",{className:"rounded-xl bg-[var(--bg-primary)] p-6",children:t.jsx(i,{items:h[e],variant:p,showTags:!0,showDescription:"list"===p,emptyMessage:d("bookmarks.noItemsFound"),filterType:"all"})})]},e))})]})},d=()=>{const{t:l}=s(),{getBookmarkCount:o}=e();return a.useEffect(()=>(document.title=`${l("bookmarks.title")} (${o()}) | ${l("siteName")}`,()=>{document.title=l("siteName")}),[l,o]),t.jsx("div",{className:"min-h-screen",children:t.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:t.jsxs("div",{className:"mx-auto max-w-7xl",children:[t.jsx("h1",{className:"section-title",children:l("bookmarks.title")}),t.jsx("p",{className:"section-subtitle",children:l("bookmarks.description")}),0===o()?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx("p",{className:"mb-6 text-lg",style:{color:"var(--color-text-secondary)"},children:l("bookmarks.empty")}),t.jsx(r,{to:"/",className:"btn btn-primary",children:l("navigation.home")})]}):t.jsx(c,{})]})})})};export{d as default};
