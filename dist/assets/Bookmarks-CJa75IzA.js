import{j as e,I as N,g as b,a as v,r as n,L as w}from"./index-BJL_EZoJ.js";import{T as C,C as I,a as T}from"./CardListToggle-DdAiKfeP.js";import"./UnifiedCard-DXTFbBXX.js";const B=s=>e.jsxs(N,{...s,children:[e.jsx("polyline",{points:"3,6 5,6 21,6"}),e.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),e.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),E=()=>{const{bookmarkedItems:s,clearAllBookmarks:o}=b(),{t:a}=v(),[i,g]=n.useState("all"),[c,f]=n.useState("default"),[d,j]=n.useState({}),y=[{value:"all",label:a("exhibits.filters.all")},{value:"event",label:a("navigation.events")},{value:"exhibit",label:a("exhibits.filters.exhibits")},{value:"stall",label:a("exhibits.filters.stalls")}];n.useEffect(()=>{let t=s;i!=="all"&&(t=s.filter(l=>l.type===i));const r={};t.forEach(l=>{r[l.date]||(r[l.date]=[]),r[l.date].push(l)}),Object.keys(r).forEach(l=>{r[l].sort((x,u)=>{const h=x.time.split(" - ")[0],p=u.time.split(" - ")[0];return h!==p?h.localeCompare(p):x.title.localeCompare(u.title)})}),j(r)},[s,i]);const k=t=>{try{return new Date(t).toLocaleDateString(a("language")==="ja"?"ja-JP":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return t}};if(s.length===0)return e.jsxs("div",{className:"text-center py-12 bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-color)]",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔖"}),e.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:a("bookmarks.empty")}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:a("bookmarks.startBookmarking")})]});const m=Object.keys(d).sort();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex w-full items-center gap-2 overflow-x-auto scrollbar-thin py-2 px-1 sm:overflow-x-auto md:overflow-x-visible md:justify-between md:px-0 md:py-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(C,{options:y,activeValue:i,onChange:g,className:"rounded-lg overflow-hidden shadow-sm"})}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-auto",children:[e.jsx(I,{viewMode:c,setViewMode:f}),e.jsx("button",{onClick:o,className:"px-3 py-2 glass-button glass-interactive text-red-500 hover:text-red-600 rounded-lg font-medium transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500/20",title:"すべて削除",children:e.jsx(B,{size:20})})]})]}),m.length===0?e.jsx("div",{className:"text-center py-8 bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-color)]",children:e.jsx("p",{className:"text-[var(--text-secondary)]",children:a("bookmarks.noCategoryItems")})}):e.jsx("div",{className:"space-y-8",children:m.map(t=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-[var(--accent-purple)] to-[var(--accent-pink)] rounded-full"}),e.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)]",children:k(t)}),e.jsx("div",{className:"flex-1 h-px bg-[var(--border-color)]"}),e.jsxs("span",{className:"text-sm text-[var(--text-secondary)] bg-[var(--bg-secondary)] px-3 py-1 rounded-full",children:[d[t].length," 件"]})]}),e.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl p-6",children:e.jsx(T,{items:d[t],variant:c,showTags:!0,showDescription:c==="list",emptyMessage:a("bookmarks.noItemsFound"),filterType:"all"})})]},t))})]})},V=()=>{const{t:s}=v(),{getBookmarkCount:o}=b();return n.useEffect(()=>(document.title=`${s("bookmarks.title")} (${o()}) | ${s("siteName")}`,()=>{document.title=s("siteName")}),[s,o]),e.jsx("div",{className:"min-h-screen",children:e.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"section-title",children:s("bookmarks.title")}),e.jsx("p",{className:"section-subtitle",children:s("bookmarks.description")}),o()===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-lg mb-6",style:{color:"var(--color-text-secondary)"},children:s("bookmarks.empty")}),e.jsx(w,{to:"/",className:"btn btn-primary",children:s("navigation.home")})]}):e.jsx(E,{})]})})})};export{V as default};
