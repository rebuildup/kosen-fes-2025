import{i as h,a as v,r as i,j as e,L as N}from"./index-DfMN3-aJ.js";import{T as w,C,a as T}from"./CardListToggle-m7dyg1Ld.js";import{T as B}from"./trash-2-B6zE72Am.js";import"./UnifiedCard-B8ObpB9_.js";const L=()=>{const{bookmarkedItems:s,clearAllBookmarks:l}=h(),{t:r}=v(),[n,f]=i.useState("all"),[c,g]=i.useState("default"),[d,k]=i.useState({}),j=[{label:r("exhibits.filters.all"),value:"all"},{label:r("navigation.events"),value:"event"},{label:r("exhibits.filters.exhibits"),value:"exhibit"},{label:r("exhibits.filters.stalls"),value:"stall"}];i.useEffect(()=>{let t=s;n!=="all"&&(t=s.filter(o=>o.type===n));const a={};for(const o of t)a[o.date]||(a[o.date]=[]),a[o.date].push(o);for(const o of Object.keys(a))a[o].sort((x,u)=>{const p=x.time.split(" - ")[0],b=u.time.split(" - ")[0];return p!==b?p.localeCompare(b):x.title.localeCompare(u.title)});k(a)},[s,n]);const y=t=>{try{return new Date(t).toLocaleDateString(r("language")==="ja"?"ja-JP":"en-US",{day:"numeric",month:"long",weekday:"long",year:"numeric"})}catch(a){return console.error("Failed to format bookmark date",a),t}};if(s.length===0)return e.jsxs("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-12 text-center",children:[e.jsx("div",{className:"mb-4 text-6xl",children:"🔖"}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-[var(--text-primary)]",children:r("bookmarks.empty")}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:r("bookmarks.startBookmarking")})]});const m=Object.keys(d).sort((t,a)=>t.localeCompare(a));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"scrollbar-thin flex w-full items-center gap-2 overflow-x-auto px-1 py-2 sm:overflow-x-auto md:justify-between md:overflow-x-visible md:px-0 md:py-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(w,{options:j,activeValue:n,onChange:f,className:"overflow-hidden rounded-lg shadow-sm"})}),e.jsxs("div",{className:"ml-auto flex flex-shrink-0 items-center gap-2",children:[e.jsx(C,{viewMode:c,setViewMode:g}),e.jsx("button",{onClick:l,className:"glass-button glass-interactive rounded-lg px-3 py-2 font-medium text-red-500 transition-all duration-200 hover:text-red-600 hover:shadow-lg focus:ring-2 focus:ring-red-500/20 focus:outline-none",title:"すべて削除",children:e.jsx(B,{size:20})})]})]}),m.length===0?e.jsx("div",{className:"rounded-xl border border-[var(--border-color)] bg-[var(--bg-secondary)] py-8 text-center",children:e.jsx("p",{className:"text-[var(--text-secondary)]",children:r("bookmarks.noCategoryItems")})}):e.jsx("div",{className:"space-y-8",children:m.map(t=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-[var(--accent-purple)] to-[var(--accent-pink)]"}),e.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)]",children:y(t)}),e.jsx("div",{className:"h-px flex-1 bg-[var(--border-color)]"}),e.jsxs("span",{className:"rounded-full bg-[var(--bg-secondary)] px-3 py-1 text-sm text-[var(--text-secondary)]",children:[d[t].length," 件"]})]}),e.jsx("div",{className:"rounded-xl bg-[var(--bg-primary)] p-6",children:e.jsx(T,{items:d[t],variant:c,showTags:!0,showDescription:c==="list",emptyMessage:r("bookmarks.noItemsFound"),filterType:"all"})})]},t))})]})},F=()=>{const{t:s}=v(),{getBookmarkCount:l}=h();return i.useEffect(()=>(document.title=`${s("bookmarks.title")} (${l()}) | ${s("siteName")}`,()=>{document.title=s("siteName")}),[s,l]),e.jsx("div",{className:"min-h-screen",children:e.jsx("section",{className:"section",style:{backgroundColor:"var(--color-bg-primary)"},children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsx("h1",{className:"section-title",children:s("bookmarks.title")}),e.jsx("p",{className:"section-subtitle",children:s("bookmarks.description")}),l()===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("p",{className:"mb-6 text-lg",style:{color:"var(--color-text-secondary)"},children:s("bookmarks.empty")}),e.jsx(N,{to:"/",className:"btn btn-primary",children:s("navigation.home")})]}):e.jsx(L,{})]})})})};export{F as default};
