import{a as b,j as e,r as l}from"./index-BJL_EZoJ.js";import{U as A}from"./UnifiedCard-DXTFbBXX.js";const D=({size:r="medium",message:t,showSpinner:i=!0,className:d=""})=>{const{t:o}=b(),c=(()=>{switch(r){case"small":return{spinner:"w-4 h-4",text:"text-sm"};case"large":return{spinner:"w-8 h-8",text:"text-lg"};default:return{spinner:"w-6 h-6",text:"text-base"}}})();return e.jsxs("div",{role:"status","aria-live":"polite",className:`flex flex-col items-center justify-center space-y-3 ${d}`,children:[i&&e.jsx("div",{className:`${c.spinner} animate-spin text-blue-600 dark:text-blue-400`,"aria-hidden":"true",children:e.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx("span",{className:`${c.text} text-gray-600 dark:text-gray-400`,children:t||o("common.loadingCards")})]})},G=({items:r,variant:t="default",showTags:i=!1,showDescription:d=!1,emptyMessage:o,onCardClick:u,highlightText:c,className:f="",columns:a,filterType:n="all",isLoading:m=!1})=>{const{t:g}=b(),[y,C]=l.useState(0),[j,k]=l.useState(""),[$,N]=l.useState("variant"),h=l.useMemo(()=>n==="all"?r:r.filter(s=>s.type===n),[r,n]),v=l.useMemo(()=>h.map(s=>s.id).join(","),[h]);l.useEffect(()=>{j!==""&&j!==v&&(N("content"),C(x=>x+1)),k(v)},[v,j]),l.useEffect(()=>{N("variant"),C(s=>s+1)},[t]);const S=()=>{switch(n){case"event":return g("events.noEvents");case"exhibit":return g("exhibits.noExhibits");case"stall":return g("exhibits.noStalls");default:return g("common.noItems")}},R=a?{gridTemplateColumns:`repeat(${a}, 1fr)`}:void 0,E=()=>{switch(t){case"compact":return"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3";case"list":return"space-y-4";case"grid":return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6";default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}};if(m)return e.jsx("div",{className:"flex flex-col items-center justify-center py-16",children:e.jsx(D,{size:"large"})});if(h.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8V4a1 1 0 00-1-1H7a1 1 0 00-1 1v1"})})}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:o||S()})]});const H=(s,x)=>{const p=t==="list"?.08:.05,w=t==="list"?.02:.015;if(x<=10)return s*p;const I=s/(x-1),L=Math.pow(1-I,.8),M=w+(p-w)*L,B=s*w*.3;return M+B};return e.jsx("div",{className:`${E()} ${f}`,style:R,children:h.map((s,x)=>{const p=()=>$==="content"?"animate-category-change":t==="list"?"animate-card-enter-list":"animate-card-enter";return e.jsx("div",{className:p(),style:{animationDelay:`${H(x,h.length)}s`,animationFillMode:"both"},children:e.jsx(A,{item:s,variant:t,showTags:i,showDescription:d,highlightText:c,onClick:u?()=>u(s):void 0})},`${y}-${s.id}`)})})},z=({options:r,activeValue:t,onChange:i,className:d=""})=>{const[o,u]=l.useState({width:0,transform:"translateX(0px)"}),c=l.useRef(null),f=l.useRef([]);return l.useEffect(()=>{const a=r.findIndex(m=>m.value===t),n=f.current[a];if(n&&c.current){const m=c.current.getBoundingClientRect(),g=n.getBoundingClientRect(),y=g.left-m.left;u({width:g.width,transform:`translateX(${y}px)`})}},[t,r]),e.jsxs("div",{ref:c,className:`relative flex gap-0 rounded-lg overflow-hidden ${d}`,style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsx("div",{className:"absolute bottom-0 h-0.5 transition-all duration-300 ease-out",style:{backgroundColor:"var(--color-accent)",width:`${o.width}px`,transform:o.transform}}),r.map((a,n)=>e.jsx("button",{ref:m=>f.current[n]=m,onClick:()=>i(a.value),className:`
            px-4 py-3 font-medium transition-all duration-200 
            relative overflow-hidden group text-sm
            ${n===0?"rounded-l-lg":""} ${n===r.length-1?"rounded-r-lg":""}
            ${t===a.value?"text-white":"hover:bg-white/5"}
          `,style:{backgroundColor:t===a.value?"var(--color-accent)":"transparent",color:t===a.value?"white":"var(--color-text-primary)"},children:a.label},a.value))]})},K=({viewMode:r,setViewMode:t,className:i=""})=>{const{t:d}=b(),o=[{value:"default",label:"⊞"},{value:"compact",label:"☰"},{value:"list",label:"⋯"}];return e.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 ${i}`,children:[e.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--color-text-secondary)"},children:[d("common.view"),":"]}),e.jsx(z,{options:o,activeValue:r,onChange:u=>t(u),className:"text-sm"})]})};export{K as C,z as T,G as a};
